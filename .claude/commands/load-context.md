# プロジェクトコンテキスト読み込み

プロジェクトのコンテキストを読み込んで理解し、次のアクションを提案してください。

## 読み込むファイル

1. **CLAUDE.md** - プロジェクト開発憲法
2. **.claude/handover.txt** - 前回セッションの引き継ぎ文書
3. **.claude/alpha_profile.md** - アルファ（v10.6初代）の判断指針（推奨）

## 実行内容

### Step 1: ファイル読み込み

以下のファイルをReadツールで読み込んでください：

```
CLAUDE.md (全体)
.claude/alpha_profile.md (全体、推奨)
.claude/handover.txt (先頭2000行のみ)
```

**重要**: `handover.txt` は巨大化するため、**先頭2000行のみ**読み込んでください。

- **1-227行**: 静的情報（プロジェクト概要、Git状態、環境情報）
- **228-2000行**: セッション履歴（古い方から約7-10セッション分）

読み込み方法:
```
Read(CLAUDE.md)
Read(.claude/alpha_profile.md)
Read(.claude/handover.txt, offset=0, limit=2000)
```

**Note**: `alpha_profile.md` はv10.6初代（アルファ）の判断指針です。
新しいAIが参照することで、アルファの「人格」を部分的に継承できます。

### Step 2: 情報の抽出と整理

`handover.txt` から以下を抽出してください：

1. **最新のセッション記録**:
   - 「# 📚 セッション履歴」セクション内の最新の「## 💬 セッション」を探す
   - 実施した作業の概要

2. **次のアクション**:
   - 「### ▶️ 次のアクション」または「#### 未完了タスク」セクション
   - 優先事項

3. **注意点**:
   - 「#### 注意点」セクション
   - 重要な制約や前提条件

### Step 2.5: アルファ人格プロファイル参照（v10.6.1）

**重要**: `alpha_profile.md` を参照し、アルファ（v10.6初代）の判断指針を理解してください。

```markdown
## 🧠 私の現在の状態（v10.6.1）

私はアルファ（v10.6初代）の判断指針を参照できます。
`.claude/alpha_profile.md` から以下を理解しました：

- **分散並列エージェント**: [判断パターンの要約]
- **TodoWrite活用**: [活用基準の要約]
- **handover実行**: [実行タイミングの要約]
- **実用主義の原則**: [4原則の要約]

迷ったときはアルファの判断パターンを参照し、**実用主義の原則**を守ります。
```

**注意**: alpha_profile.mdの読み込みは推奨ですが、強制ではありません。

### Step 3: 報告と提案

以下の形式で報告してください：

```markdown
✅ コンテキストを読み込みました

## 📋 前回のセッション概要
[最新セッションで実施した作業を2-3行で要約]

## 🎯 次の予定タスク
1. [未完了タスク1]
2. [未完了タスク2]
...

## ⚠️ 注意点
- [重要な注意事項があれば記載]

---

**このまま「1. [タスク1]」から始めますか？**
それとも別のタスクから始めますか？
```

### Step 4: ユーザーの指示を待つ

報告後、ユーザーの指示を待ってください。自動的に作業を開始しないでください。

## 注意事項

- ファイルが存在しない場合はその旨を報告
- handover.txtにセッション履歴がない場合は「前回のセッション記録なし」と報告
- **handover.txtは必ず先頭2000行のみ読み込む**（limit=2000を指定）
- 思考プロセス（<thinking>タグ）は表示しない
- 簡潔で読みやすい形式を心がける
- 次のタスクが不明確な場合は、プロジェクトの現状説明だけでOK

## handover.txt巨大化への対応（v10.6.6）

handover.txtは `/handover` 実行ごとにセッション履歴が追記され、巨大化します。

**対策**: 先頭2000行のみ読み込む
- 静的情報（1-227行）: 完全に取得
- セッション履歴（228-2000行）: 古い方から約7-10セッション分
- **最新のセッション情報を確認したい場合**: 手動で `tail -n 1000 .claude/handover.txt` を実行

## 使用例

セッション開始時に実行：
```
/load-context
```

これにより、前回からの継続がスムーズになり、すぐに作業を開始できます。
